---
import { PortableText } from 'astro-portabletext';
import type { PortableTextProps } from 'astro-portabletext/types';
import Mark from '@/src/components/ui/portable-text/Mark.astro';
import Normal from './Normal.astro';
import Block from './Block.astro';
import BulletList from './BulletList.astro';
import { NumberedStepsList_Query } from './NumberedStepsList.astro';
import NumberedStepsList from './NumberedStepsList.astro';
import Image, { Image_Query } from './Image.astro';
import ImageCta, { ImageCta_Query } from './ImageCta.astro';
import BulletHeadingsList, { BulletHeadingsList_Query } from './BulletHeadingsList.astro';
import Video, { Video_Query } from './Video.astro';
import ComparisonTable, { ComparisonTable_Query } from './ComparisonTable.astro';
import Quote, { Quote_Query } from './Quote.astro';

export const ContentPT_Query = `
    content[]{
    ...,
      ${Image_Query}
      ${Video_Query}
      ${ImageCta_Query}
      ${NumberedStepsList_Query}
      ${BulletHeadingsList_Query}
      ${ComparisonTable_Query}
      ${Quote_Query}
    }
`;

export type Props = {
  value: PortableTextProps['value'];
};

const { value } = Astro.props;
---

<PortableText
  value={value}
  components={{
    mark: Mark,
    block: {
      normal: Normal,
      h2: Block,
      h3: Block,
      h4: Block,
    },
    listItem: {
      bullet: BulletList,
    },
    type: {
      Image: Image,
      Video: Video,
      ImageCta: ImageCta,
      NumberedStepsList: NumberedStepsList,
      BulletHeadingsList: BulletHeadingsList,
      ComparisonTable: ComparisonTable,
      Quote: Quote,
    },
  }}
/>
